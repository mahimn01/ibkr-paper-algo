# Broker selection: "ibkr" or "sim"
TRADING_BROKER=ibkr

# IBKR connection (TWS paper defaults: host=127.0.0.1 port=7497)
IBKR_HOST=127.0.0.1
IBKR_PORT=7497
IBKR_CLIENT_ID=7

# Safety: refuse to trade unless explicitly enabled
TRADING_LIVE_ENABLED=false

# Safety: dry run by default (no orders sent)
TRADING_DRY_RUN=false

# Safety: second confirmation gate for sending orders (set a random token)
# Example: TRADING_ORDER_TOKEN=I_UNDERSTAND_PAPER_TRADING
TRADING_ORDER_TOKEN=

# Optional: enable sqlite audit trail
# Example: TRADING_DB_PATH=trading_audit.sqlite3
TRADING_DB_PATH=

# Strategy loop
TRADING_POLL_SECONDS=5

# ---------------------------
# Optional: LLM trader (Gemini)
# ---------------------------
# Keep disabled unless you are intentionally running the LLM trader.
LLM_ENABLED=false
LLM_PROVIDER=off  # set to: gemini
GEMINI_API_KEY=
GEMINI_MODEL=gemini-3-pro-preview

# Optional: allow Gemini to use Google Search grounding (network required).
# No separate Google Search API key is required for this mode; it uses `GEMINI_API_KEY`.
LLM_USE_GOOGLE_SEARCH=true

# Safety: explicit allowlist for the LLM (required when LLM_ENABLED=true)
LLM_ALLOWED_KINDS=STK
LLM_ALLOWED_SYMBOLS=AAPL

# Safety: throttle LLM output
LLM_MAX_ORDERS_PER_TICK=3
LLM_MAX_QTY=10.0

# Context management (token-aware; Gemini supports large context windows but costs scale with tokens)
LLM_MAX_CONTEXT_TOKENS=200000
LLM_KEEP_RECENT_CONTENTS=30
LLM_SUMMARIZE_TRIGGER_RATIO=0.90
# Optional: use a different model for summarization (defaults to GEMINI_MODEL)
LLM_SUMMARIZE_MODEL=

# Optional: explicit caching (reduce cost for multi-call tool loops; may incur caching storage billing)
GEMINI_EXPLICIT_CACHING=false
GEMINI_CACHE_TTL_SECONDS=600
GEMINI_CACHE_MIN_TOKENS=2048
GEMINI_CACHE_DELETE_AFTER_TURN=true
